<%- include('../layouts/userLayout/userHeader') %>

</head>
<body>
    
        <!--::header part start::-->
        <%- include('../layouts/userLayout/userNavBarLogout') %>
        <!-- Header part end-->
    
    
        <!-- breadcrumb start-->
        <section class="breadcrumb breadcrumb_bg">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="breadcrumb_iner">
                            <div class="breadcrumb_iner_item">
                                <h2>Sign Up</h2>                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- breadcrumb start-->
    
        <!--================login_part Area =================-->
        <section class="login_part padding_top">
            <div class="container">
                <div class="row align-items-center">
                    
                    <div class="col-lg-6 col-md-6">
                        <div class="login_part_form">
                            <div class="login_part_form_iner">
                                <h3>Welcome ! <br>
                                    Please Sign up now</h3>
                                    <%
          if(typeof message !== 'undefined'){
          %><p style="color: rgb(223, 10, 10);"><%=message%><%
          }
        %>
                                <form class="row contact_form" method="post">
                                    <span id="form-error" style="color: rgb(194, 5, 5)"></span> 
                                    <div class="col-md-12 form-group p_star">
                                        <input type="text" class="form-control" id="name" name="name" value=""
                                            placeholder="Name">
                                    </div>
                                    <span id="name-error"></span>
                                    <div class="col-md-12 form-group p_star">
                                        <input type="text" class="form-control" id="email" name="email" value=""
                                            placeholder="Email">
                                    </div>
                                    <span id="email-error"></span>
                                    <div class="col-md-12 form-group p_star">
                                        <input type="text" class="form-control" id="mobile" name="mobile" value=""
                                            placeholder="Mobile Number">
                                    </div>
                                    <span id="phoneNumber-error"></span>
                                    <div class="col-md-12 form-group p_star">
                                        <input type="password" class="form-control" id="password" name="password" value=""
                                            placeholder="Password">
                                    </div>
                                    <span id="password-error"></span>
                                    <div class="col-md-12 form-group">
                                        
                                        <button type="submit" value="submit" id='registerButton'class="btn_3">
                                            Sign Up
                                        </button>                                        
                                    </div>
                                </form>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--================login_part end =================-->
    
        <!--::footer_part start::-->
        <footer class="footer_part">
            <div class="container">
                <div class="row justify-content-around">
                    <div class="col-sm-6 col-lg-2">
                        <div class="single_footer_part">
                            <h4>Top Products</h4>
                            <ul class="list-unstyled">
                                <li><a href="">Managed Website</a></li>
                                <li><a href="">Manage Reputation</a></li>
                                <li><a href="">Power Tools</a></li>
                                <li><a href="">Marketing Service</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-lg-2">
                        <div class="single_footer_part">
                            <h4>Quick Links</h4>
                            <ul class="list-unstyled">
                                <li><a href="">Jobs</a></li>
                                <li><a href="">Brand Assets</a></li>
                                <li><a href="">Investor Relations</a></li>
                                <li><a href="">Terms of Service</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-lg-2">
                        <div class="single_footer_part">
                            <h4>Features</h4>
                            <ul class="list-unstyled">
                                <li><a href="">Jobs</a></li>
                                <li><a href="">Brand Assets</a></li>
                                <li><a href="">Investor Relations</a></li>
                                <li><a href="">Terms of Service</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-lg-2">
                        <div class="single_footer_part">
                            <h4>Resources</h4>
                            <ul class="list-unstyled">
                                <li><a href="">Guides</a></li>
                                <li><a href="">Research</a></li>
                                <li><a href="">Experts</a></li>
                                <li><a href="">Agencies</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-lg-4">
                        <div class="single_footer_part">
                            <h4>Newsletter</h4>
                            <p>Heaven fruitful doesn't over lesser in days. Appear creeping
                            </p>
                            <div id="mc_embed_signup">
                                <form target="_blank"
                                    action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                                    method="get" class="subscribe_form relative mail_part">
                                    <input type="email" name="email" id="newsletter-form-email" placeholder="Email Address"
                                        class="placeholder hide-on-focus" onfocus="this.placeholder = ''"
                                        onblur="this.placeholder = ' Email Address '">
                                    <button type="submit" name="submit" id="newsletter-submit"
                                        class="email_icon newsletter-submit button-contactForm">subscribe</button>
                                    <div class="mt-10 info"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
    
            </div>
            <div class="copyright_part">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="copyright_text">
                                <P><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
    Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></P>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="footer_icon social_icon">
                                <ul class="list-unstyled">
                                    <li><a href="#" class="single_social_icon"><i class="fab fa-facebook-f"></i></a></li>
                                    <li><a href="#" class="single_social_icon"><i class="fab fa-twitter"></i></a></li>
                                    <li><a href="#" class="single_social_icon"><i class="fas fa-globe"></i></a></li>
                                    <li><a href="#" class="single_social_icon"><i class="fab fa-behance"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <script>
            const form = document.querySelector("form")
            const name = document.querySelector("#name")
            const email = document.querySelector("#email")
            const phoneNumber = document.querySelector("#mobile")
            const password = document.querySelector("#password")
            
            const nameError = document.getElementById('name-error')
            const emailError = document.getElementById('email-error')
            const phoneNumberError = document.getElementById('phoneNumber-error')
            const passwordError = document.getElementById('password-error')
            const formError = document.getElementById('form-error')
            
            
            const namePattern = /^[A-Z][a-z]+(\s[A-Z][a-z]{0,25}){0,3}$/
            const emailPattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
            const phoneNumberPattern = /^\d{10}$/
            const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[-!@#\$%\^&\*])[a-zA-Z\d!-@#\$%\^&\*]{8,20}$/
            
            
            
            let passwordFirstInput = false
            
            const nameFunction =  () => {
              if (!namePattern.test(name.value)) {
                nameError.textContent = 'Invalid name'
                return false
              } else {
                nameError.textContent = ''
                return true
              }
            }
            const emailFunction = () => {
              if (!emailPattern.test(email.value)) {
                emailError.textContent = 'Invalid email'
                return false
              } else {
                emailError.textContent = ''
                return true
              }
            }
            const phoneNumberFunction = () => {
              if(!phoneNumberPattern.test(phoneNumber.value)){
                phoneNumberError.textContent = 'Invalid phone number'
                return false
              } else {
                phoneNumberError.textContent = ''
                return true
              }
            }
            const passwordFunction =  () => {
              if(!passwordPattern.test(password.value)){
                passwordError.textContent = 'Not a strong password'
                return false
              } else {
                passwordError.textContent = ''
                return true
              }
            }
            
            name.addEventListener('input', nameFunction)
            email.addEventListener('input', emailFunction)
            phoneNumber.addEventListener('blur', phoneNumberFunction)
            phoneNumber.addEventListener('input', () => {
              if(phoneNumber.value.length > 5) {
                phoneNumberFunction()
              }
            })
            password.addEventListener('input', passwordFunction)
            password.addEventListener('input', () => {
              if(passwordFirstInput) {
                passwordConfirmationFunction()
              }
            })
            
            let isFormValid = false
            
            const formFunctions = [
              nameFunction,
              emailFunction,
              phoneNumberFunction,
              passwordFunction
              ]
            
            document.getElementById("registerButton").addEventListener("click", (event) => {
              if(formFunctions.every(fn => fn())){
                isFormValid = true
              }
              if(!isFormValid) {
                event.preventDefault();
                
                formError.textContent = 'Invalid Form. Please enter details.' 

              } else {
                form.submit();
              }
            });
            
            </script>
        <!--::footer_part end::-->
        <%- include('../layouts/userLayout/userFooter') %> 